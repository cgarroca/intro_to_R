---
title: "Berlin_crimes_2012-2019"
author: "Garro"
date: "2023-08-10"
output: html_document
---

Read the dataset
```{r}
library(tidyverse)

berlin_crimes <- read_csv("Berlin_crimes.csv", show_col_types = FALSE)
```

ctrl + alt + i (for a new chunk of code)

1. How many columns and rows are in the dataset? What are their types?

```{r}
glimpse(berlin_crimes)
```

RR:

There are 20 columns, 2 of type character and the resting 18 are integers. There are 1200 rows.


2. How many districts does Berlin have?

```{r}
berlin_crimes %>% select(District) %>% unique()
```


3. What is the district that had the least amount of bike thefts in 2019?

```{r}
berlin_crimes %>% filter(Year == 2019) %>% select(District, Bike) %>% group_by(District) %>% 
  summarise(Bike = sum(Bike)) %>% arrange(Bike)
```


4. What were the total crimes committed in your district in Berlin on 2019?

If you are not sure where your neighbourhood is, check out this map:
https://en.wikipedia.org/wiki/Boroughs_and_neighborhoods_of_Berlin#/media/File:Berlin,_administrative_divisions_(+districts_+boroughs_-pop)_-_de_-_colored.svg

```{r}
table(berlin_crimes$District)
#Prenzlauerberg is in Pankow
pankow_2019 <- berlin_crimes %>% filter(Year == 2019 & District == "Pankow") %>% select(-c(Code, Location, Year, District)) 
pankow_2019
colSums(pankow_2019)

```


5. Plot algo :D

```{r}
data <- data.frame(colSums(pankow_2019))
data$crime_name <- row.names(data)
names(data) <- c("total", "crime_name")
data
barplot(sort(data$total, decreasing = TRUE), names= data$crime_name,
        horiz = TRUE, las = 1)
```

